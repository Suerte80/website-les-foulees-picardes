{# templates/files/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Gestion des fichiers{% endblock %}

{% block body %}
    <div class="example-wrapper">
        <h1>Gestion des fichiers</h1>

        {# ðŸ‘‰ On affiche l'arbre UNE SEULE FOIS #}
        {% include 'file/tree.html.twig' with { items: files } %}

        <hr>

        {# CrÃ©er un dossier Ã  la racine #}
        <h3>CrÃ©er un dossier Ã  la racine</h3>
        <form action="{{ path('app_files_create_directory') }}" method="post">
            <input type="hidden" name="_token" value="{{ csrf_token('create_dir_root') }}">
            <input type="hidden" name="parent_id" value="">
            <label for="name_root">Nom :</label>
            <input type="text" id="name_root" name="name" required>
            <button type="submit">CrÃ©er</button>
        </form>

        <hr>

        <a href="{{ path('app_files_upload') }}">ðŸ“¤ TÃ©lÃ©verser un fichier</a>
    </div>
{% endblock %}
